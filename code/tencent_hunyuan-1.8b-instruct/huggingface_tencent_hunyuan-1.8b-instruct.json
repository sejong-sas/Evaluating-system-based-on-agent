{
    "model_id": "tencent/hunyuan-1.8b-instruct",
    "files": [
        ".gitattributes",
        "LICENSE",
        "LICENSE.txt",
        "Notice.txt",
        "README.md",
        "README_CN.md",
        "config.json",
        "generation_config.json",
        "model.safetensors",
        "requirements.txt",
        "special_tokens_map.json",
        "tokenizer.json",
        "tokenizer_config.json"
    ],
    "readme": "---\nlibrary_name: transformers\n---\n\n\n\n<p align=\"center\">\n <img src=\"https://dscache.tencent-cloud.cn/upload/uploader/hunyuan-64b418fd052c033b228e04bc77bbc4b54fd7f5bc.png\" width=\"400\"/> <br>\n</p><p></p>\n\n\n<p align=\"center\">\n    ü§ó&nbsp;<a href=\"https://huggingface.co/tencent/\"><b>HuggingFace</b></a>&nbsp;|&nbsp;\n    ü§ñ&nbsp;<a href=\"https://modelscope.cn/models/Tencent-Hunyuan/Hunyuan-A13B-Instruct\"><b>ModelScope</b></a>&nbsp;|&nbsp;\n    ü™°&nbsp;<a href=\"https://github.com/Tencent/AngelSlim/tree/main\"><b>AngelSlim</b></a>\n</p>\n\n<p align=\"center\">\n    üñ•Ô∏è&nbsp;<a href=\"https://hunyuan.tencent.com\" style=\"color: red;\"><b>Official Website</b></a>&nbsp;&nbsp;|&nbsp;&nbsp;\n    üïñ&nbsp;<a href=\"https://cloud.tencent.com/product/hunyuan\"><b>HunyuanAPI</b></a>&nbsp;&nbsp;|&nbsp;&nbsp;\n    üïπÔ∏è&nbsp;<a href=\"https://hunyuan.tencent.com/\"><b>Demo</b></a>&nbsp;&nbsp;&nbsp;&nbsp;\n</p>\n\n<p align=\"center\">\n    <a href=\"https://github.com/Tencent-Hunyuan/Hunyuan-7B\"><b>GITHUB</b></a> | \n    <a href=\"https://cnb.cool/tencent/hunyuan/Hunyuan-7B\"><b>cnb.cool</b></a> | \n    <a href=\"https://github.com/Tencent-Hunyuan/Hunyuan-7B/blob/main/LICENSE\"><b>LICENSE</b></a> | \n    <a href=\"https://raw.githubusercontent.com/Tencent-Hunyuan/Hunyuan-A13B/main/assets/1751881231452.jpg\"><b>WeChat</b></a> | \n    <a href=\"https://discord.gg/bsPcMEtV7v\"><b>Discord</b></a>\n</p>\n\n\n## Model Introduction\n\nHunyuan is Tencent's open-source efficient large language model series, designed for versatile deployment across diverse computational environments. From edge devices to high-concurrency production systems, these models deliver optimal performance with advanced quantization support and ultra-long context capabilities.\n\nWe have released a series of Hunyuan dense models, comprising both pre-trained and instruction-tuned variants, with parameter scales of 0.5B, 1.8B, 4B, and 7B. These models adopt training strategies similar to the Hunyuan-A13B, thereby inheriting its robust performance characteristics. This comprehensive model family enables flexible deployment optimization - from resource-constrained edge computing with smaller variants to high-throughput production environments with larger models, all while maintaining strong capabilities across diverse scenarios.\n\n### Key Features and Advantages\n\n- **Hybrid Reasoning Support**: Supports both fast and slow thinking modes, allowing users to flexibly choose according to their needs.\n- **Ultra-Long Context Understanding**: Natively supports a 256K context window, maintaining stable performance on long-text tasks.\n- **Enhanced Agent Capabilities**: Optimized for agent tasks, achieving leading results on benchmarks such as BFCL-v3, œÑ-Bench and C3-Bench.\n- **Efficient Inference**: Utilizes Grouped Query Attention (GQA) and supports multiple quantization formats, enabling highly efficient inference.\n\n## Related News\n* 2025.7.30 We have open-sourced  **Hunyuan-0.5B-Pretrain** ,  **Hunyuan-0.5B-Instruct** , **Hunyuan-1.8B-Pretrain** ,  **Hunyuan-1.8B-Instruct** , **Hunyuan-4B-Pretrain** ,  **Hunyuan-4B-Instruct** , **Hunyuan-7B-Pretrain** ,**Hunyuan-7B-Instruct** on Hugging Face.\n<br>\n\n\n## Benchmark\n\nNote: The following benchmarks are evaluated by TRT-LLM-backend on several **base models**. \n\n| Model            | Hunyuan-0.5B-Pretrain | Hunyuan-1.8B-Pretrain | Hunyuan-4B-Pretrain | Hunyuan-7B-Pretrain|\n|:------------------:|:---------------:|:--------------:|:-------------:|:---------------:|\n| MMLU             | 54.02          | 64.62         | 74.01        | 79.82         |\n| MMLU-Redux              |  54.72         | 64.42        | 73.53       | 79         |\n| MMLU-Pro        | 31.15             | 38.65            | 51.91        | 57.79          |\n| SuperGPQA    |  17.23         | 24.98          | 27.28           | 30.47          |\n| BBH       | 45.92          | 74.32         | 75.17        | 82.95          |\n| GPQA             | 27.76             | 35.81            | 43.52        | 44.07          |\n| GSM8K | 55.64             | 77.26            | 87.49       | 88.25         |\n| MATH             | 42.95          | 62.85          | 72.25        | 74.85          |\n| EvalPlus             | 39.71          | 60.67          | 67.76        | 66.96          |\n| MultiPL-E            | 21.83          | 45.92         | 59.87        | 60.41          |\n| MBPP            | 43.38          | 66.14         | 76.46        | 76.19          |\n| CRUX-O         | 30.75             | 36.88           | 56.5        | 60.75          |\n| Chinese SimpleQA            | 12.51             | 22.31            | 30.53        | 38.86          |\n| simpleQA (5shot)            | 2.38             | 3.61            | 4.21        | 5.69          |\n\n\n| Topic               |                        Bench                         | Hunyuan-0.5B-Instruct | Hunyuan-1.8B-Instruct | Hunyuan-4B-Instruct | Hunyuan-7B-Instruct|\n|:-------------------:|:----------------------------------------------------:|:-------------:|:------------:|:-----------:|:---------------------:|\n| **Mathematics**     |            AIME 2024<br>AIME 2025<br>MATH            | 17.2<br>20<br>48.5 | 56.7<br>53.9<br>86 | 78.3<br>66.5<br>92.6 | 81.1<br>75.3<br>93.7 |\n| **Science**         |            GPQA-Diamond<br>OlympiadBench             | 23.3<br>29.6 | 47.2<br>63.4 | 61.1<br>73.1 | 60.1<br>76.5 |\n| **Coding**          |           Livecodebench<br>Fullstackbench            | 11.1<br>20.9 | 31.5<br>42   | 49.4<br>54.6 | 57<br>56.3 |\n| **Reasoning**       |              BBH<br>DROP<br>ZebraLogic               | 40.3<br>52.8<br>34.5 | 64.6<br>76.7<br>74.6 | 83<br>78.2<br>83.5 | 87.8<br>85.9<br>85.1 |\n| **Instruction<br>Following** |        IF-Eval<br>SysBench                  | 49.7<br>28.1 | 67.6<br>55.5 | 76.6<br>68 | 79.3<br>72.7 |\n| **Agent**           | BFCL v3<br> œÑ-Bench<br>ComplexFuncBench<br> C3-Bench | 49.8<br>14.4<br>13.9<br>45.3 | 58.3<br>18.2<br>22.3<br>54.6 | 67.9<br>30.1<br>26.3<br>64.3 | 70.8<br>35.3<br>29.2<br>68.5 |\n| **Long<br>Context** | PenguinScrolls<br>longbench-v2<br>FRAMES          | 53.9<br>34.7<br>41.9 | 73.1<br>33.2<br>55.6 | 83.1<br>44.1<br>79.2 | 82<br>43<br>78.6 |\n\n\n&nbsp;\n\n### Use with transformers\nFirst, please install transformers. We will merge it into the main branch later.\n```SHELL\npip install git+https://github.com/huggingface/transformers@4970b23cedaf745f963779b4eae68da281e8c6ca\n```\nOur model defaults to using slow-thinking reasoning, and there are two ways to disable CoT reasoning. \n1. Pass **\"enable_thinking=False\"** when calling apply_chat_template.\n2. Adding **\"/no_think\"** before the prompt will force the model not to use perform CoT reasoning. Similarly, adding **\"/think\"** before the prompt will force the model to perform CoT reasoning.\n\nThe following code snippet shows how to use the transformers library to load and apply the model. It also demonstrates how to enable and disable the reasoning mode , and how to parse the reasoning process along with the final output.\n\nwe use tencent/Hunyuan-7B-Instruct for example\n\n```python\nfrom transformers import AutoModelForCausalLM, AutoTokenizer\nimport os\nimport re\n\nmodel_name_or_path = \"tencent/Hunyuan-7B-Instruct\"\n\ntokenizer = AutoTokenizer.from_pretrained(model_name_or_path)\nmodel = AutoModelForCausalLM.from_pretrained(model_name_or_path, device_map=\"auto\")  # You may want to use bfloat16 and/or move to GPU here\nmessages = [\n    {\"role\": \"user\", \"content\": \"Write a short summary of the benefits of regular exercise\"},\n]\ntokenized_chat = tokenizer.apply_chat_template(messages, tokenize=True, add_generation_prompt=True,return_tensors=\"pt\",\n                                                enable_thinking=True # Toggle thinking mode (default: True)\n                                                )\n                                                \noutputs = model.generate(tokenized_chat.to(model.device), max_new_tokens=2048)\n\noutput_text = tokenizer.decode(outputs[0])\nprint(\"output_text=\",output_text)\nthink_pattern = r'<think>(.*?)</think>'\nthink_matches = re.findall(think_pattern, output_text, re.DOTALL)\n\nanswer_pattern = r'<answer>(.*?)</answer>'\nanswer_matches = re.findall(answer_pattern, output_text, re.DOTALL)\n\nthink_content = [match.strip() for match in think_matches][0]\nanswer_content = [match.strip() for match in answer_matches][0]\nprint(f\"thinking_content:{think_content}\\n\\n\")\nprint(f\"answer_content:{answer_content}\\n\\n\")\n\n\n```\n\nWe recommend using the following set of parameters for inference. Note that our model does not have the default system_prompt.\n\n```json\n\n{\n  \"do_sample\": true,\n  \"top_k\": 20,\n  \"top_p\": 0.8,\n  \"repetition_penalty\": 1.05,\n  \"temperature\": 0.7\n}\n```\n\n&nbsp;\n\n### Training Data Format\n\nIf you need to fine-tune our Instruct model, we recommend processing the data into the following format, corresponding to both slow-thinking and fast-thinking scenarios.\n\n```python\n# think_pattern\nthink = \"\"\nanswer = \"\"\nthink_pattern = f\"<think>\\n{think}\\n</think>\\n<answer>\\n{answer}\\n</answer>\"\n\n# fast think pattern\nmessages = [\n    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n    {\"role\": \"user\", \"content\": \"/no_thinkÊµ∑Ê∞¥‰∏∫‰ªÄ‰πàÊòØÂí∏ÁöÑ\" },\n    {\"role\": \"assistant\", \"content\": \"<think>\\n\\n</think>\\n<answer>\\nÊµ∑Ê∞¥ÊòØÂí∏ÁöÑ‰∏ªË¶ÅÊòØÂõ†‰∏∫ÂÖ∂‰∏≠Âê´ÊúâËÆ∏Â§öÊ∫∂Ëß£Âú®Ê∞¥‰∏≠ÁöÑÁõêÁ±ªÂíåÁüøÁâ©Ë¥®„ÄÇËøô‰∫õÁõêÁ±ªÂíåÁüøÁâ©Ë¥®Êù•Ëá™‰∫éÂú∞ÁêÉË°®Èù¢ÁöÑÂ≤©Áü≥ÂíåÂúüÂ£§‰∏≠ÁöÑÂåñÂ≠¶Áâ©Ë¥®ÔºåÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÆÉ‰ª¨Ë¢´Â∏¶Âà∞‰∫ÜÊµ∑Ê¥ã‰∏≠„ÄÇÂΩìÊµ∑Ê∞¥Ëí∏ÂèëÊó∂ÔºåÊ∞¥ÂàÜËí∏ÂèëÊéâ‰∫ÜÔºå‰ΩÜÁõêÁ±ªÂíåÁüøÁâ©Ë¥®‰ªçÁÑ∂ÁïôÂú®Ê∞¥‰∏≠ÔºåÂØºËá¥Êµ∑Ê∞¥ÂèòÂæóÊõ¥Âä†Âí∏Âë≥„ÄÇÂõ†Ê≠§ÔºåÊµ∑Ê∞¥ÁöÑÂí∏Â∫¶ÊòØÁî±ÂÖ∂‰∏≠ÁöÑÁõêÁ±ªÂíåÁüøÁâ©Ë¥®ÁöÑÂê´ÈáèÂÜ≥ÂÆöÁöÑ„ÄÇ\\n</answer>\"}\n]\n\n# slow think pattern\nmessages = [\n    {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"},\n    {\"role\": \"user\", \"content\": \"1+1=\" },\n    {\"role\": \"assistant\", \"content\": \"<think>\\nÂóØÔºåÁî®Êà∑ÈóÆÁöÑÊòØ1Âä†1Á≠â‰∫éÂ§öÂ∞ë„ÄÇÈ¶ñÂÖàÔºåÊàëÈúÄË¶ÅÁ°ÆËÆ§ËøôÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑÁÆóÊúØÈóÆÈ¢ò„ÄÇ1Âä†1Âú®ÂçÅËøõÂà∂ÁöÑÊï∞Â≠¶‰ΩìÁ≥ª‰∏≠ÔºåÈÄöÂ∏∏ÁöÑÁªìÊûúÊòØ2„ÄÇ‰∏çËøáÔºåÂèØËÉΩÈúÄË¶ÅËÄÉËôëÊòØÂê¶ÊúâÂÖ∂‰ªñÊÉÖÂÜµÔºåÊØîÂ¶Ç‰∫åËøõÂà∂ÊàñËÄÖÂÖ∂‰ªñÊï∞Âà∂Ôºå‰ΩÜÁî®Êà∑Ê≤°ÊúâÁâπÂà´ËØ¥ÊòéÔºåÊâÄ‰ª•ÈªòËÆ§Â∫îËØ•ÊòØÂçÅËøõÂà∂„ÄÇÂè¶Â§ñÔºåÊúâÊó∂ÂÄôÂèØËÉΩ‰ºöÊúâËÑëÁ≠ãÊÄ•ËΩ¨ÂºØÁöÑÊÉÖÂÜµÔºåÊØîÂ¶ÇÂú®Êüê‰∫õËØ≠Â¢É‰∏ã1+1ÂèØËÉΩÁ≠â‰∫é1ÔºàÊØîÂ¶Ç1Êª¥Ê∞¥Âä†1Êª¥Ê∞¥ËøòÊòØ1Êª¥Ê∞¥ÔºâÔºå‰ΩÜÈÄöÂ∏∏Êï∞Â≠¶ÈóÆÈ¢ò‰∏≠ÈÉΩÊòØ2„ÄÇÊâÄ‰ª•ÊúÄÂáÜÁ°ÆÁöÑÂõûÁ≠îÂ∫îËØ•ÊòØ2„ÄÇ</think>\\n<answer>\\nÂú®ÂçÅËøõÂà∂ÁöÑÂü∫Êú¨ÁÆóÊúØËøêÁÆó‰∏≠Ôºå1Âä†1ÁöÑÁªìÊûúÊòØ2„ÄÇËøôÊòØÊï∞Â≠¶‰∏≠ÊúÄÂü∫Á°ÄÁöÑÂä†Ê≥ïËøêÁÆó‰πã‰∏ÄÔºåÈÅµÂæ™Ëá™ÁÑ∂Êï∞ÁöÑÂä†Ê≥ïËßÑÂàô„ÄÇÂõ†Ê≠§Ôºå1 + 1 = 2„ÄÇ\\n</answer>\"}\n]\n\nfrom transformers import AutoTokenizer\ntokenizer = AutoTokenizer.from_pretrained(\"your_tokenizer_path\", trust_remote_code=True)\ntrain_ids = tokenizer.apply_chat_template(messages)\n```\n\n&nbsp;\n\n### Train with LLaMA-Factory\n\nIn the following chapter, we will introduce how to use `LLaMA-Factory` to fine-tune the `Hunyuan` model.\n\n#### Prerequisites\n\nVerify installation of the following dependencies:  \n- **LLaMA-Factory**: Follow [official installation guide](https://github.com/hiyouga/LLaMA-Factory)\n- **DeepSpeed** (optional): Follow [official installation guide](https://github.com/deepspeedai/DeepSpeed#installation)\n- **Transformer Library**: Use the companion branch (Hunyuan-submitted code is pending review)\n    ```\n    pip install git+https://github.com/huggingface/transformers@4970b23cedaf745f963779b4eae68da281e8c6ca\n    ```\n\n#### Data preparation\n\nWe need to prepare a custom dataset:\n1. Organize your data in `json` format and place it in the `data` directory in `LLaMA-Factory`. The current implementation uses the `sharegpt` dataset format, which requires the following structure:\n```\n[\n  {\n    \"messages\": [\n      {\n        \"role\": \"system\",\n        \"content\": \"System prompt (optional)\"\n      },\n      {\n        \"role\": \"user\",\n        \"content\": \"Human instruction\"\n      },\n      {\n        \"role\": \"assistant\",\n        \"content\": \"Model response\"\n      }\n    ]\n  }\n]\n```\nRefer to the [Data Format](#training-data-format) section mentioned earlier for details.\n\n2. Define your dataset in the data/dataset_info.json file using the following format:\n```\n\"dataset_name\": {\n  \"file_name\": \"dataset.json\",\n  \"formatting\": \"sharegpt\",\n  \"columns\": {\n    \"messages\": \"messages\"\n  },\n  \"tags\": {\n    \"role_tag\": \"role\",\n    \"content_tag\": \"content\",\n    \"user_tag\": \"user\",\n    \"assistant_tag\": \"assistant\",\n    \"system_tag\": \"system\"\n  }\n}\n```\n\n#### Training execution\n\n1. Copy all files from the `train/llama_factory_support/example_configs` directory to the `example/hunyuan` directory in `LLaMA-Factory`.\n2. Modify the model path and dataset name in the configuration file `hunyuan_full.yaml`. Adjust other configurations as needed:\n```\n### model\nmodel_name_or_path: [!!!add the model path here!!!]\n\n### dataset\ndataset: [!!!add the dataset name here!!!]\n```\n3. Execute training commands:\n    *‚Äã‚ÄãSingle-node training‚Äã‚Äã\n    Note: Set the environment variable DISABLE_VERSION_CHECK to 1 to avoid version conflicts.\n    ```\n    export DISABLE_VERSION_CHECK=1\n    llamafactory-cli train examples/hunyuan/hunyuan_full.yaml\n    ```\n    *Multi-node training‚Äã‚Äã\n    Execute the following command on each node. Configure NNODES, NODE_RANK, MASTER_ADDR, and MASTER_PORT according to your environment:\n    ```\n    export DISABLE_VERSION_CHECK=1\n    FORCE_TORCHRUN=1 NNODES=${NNODES} NODE_RANK=${NODE_RANK} MASTER_ADDR=${MASTER_ADDR} MASTER_PORT=${MASTER_PORT} \\\n    llamafactory-cli train examples/hunyuan/hunyuan_full.yaml\n    ```\n\n&nbsp;\n\n\n## Quantization Compression\nWe used our own [AngleSlim](https://github.com/tencent/AngelSlim) compression tool to produce FP8 and INT4 quantization models. `AngleSlim` is a toolset dedicated to creating a more user-friendly, comprehensive and efficient model compression solution.\n\n### FP8 Quantization\nWe use FP8-static quantization, FP8 quantization adopts 8-bit floating point format, through a small amount of calibration data (without training) to pre-determine the quantization scale, the model weights and activation values will be converted to FP8 format, to improve the inference efficiency and reduce the deployment threshold. We you can use AngleSlim quantization, you can also directly download our quantization completed open source model to use [LINK](https://huggingface.co/).\n\n### Int4 Quantization\nWe use the GPTQ and AWQ algorithm to achieve W4A16 quantization.\n\nGPTQ processes the model weights layer by layer, uses a small amount of calibration data to minimize the reconfiguration error of the quantized weights, and adjusts the weights layer by layer by the optimization process of approximating the Hessian inverse matrix. The process eliminates the need to retrain the model and requires only a small amount of calibration data to quantize the weights, improving inference efficiency and lowering the deployment threshold. \nAWQ using a small amount of calibration data (without the need for training), the amplitude of the activation values is statistically calculated. For each weight channel, a scaling coefficient s is computed to expand the numerical range of important weights, allowing more information to be retained during quantization.\n\nYou can use  [AngleSlim](https://github.com/tencent/AngelSlim) quantization, you can also directly download our quantization completed open source model to use [LINK](https://huggingface.co/).\n\n\n\n#### Quantization Benchmark\nThis subsection describes the Benchmark metrics for the Hunyuan quantitative model.\n\n|     Bench     |           Quantization            |    Hunyuan-0.5B-Instruct     |     Hunyuan-1.8B-Instruct      |     Hunyuan-4B-Instruct      |     Hunyuan-7B-Instruct      |\n|:-------------:|:---------------------------------:|:----------------------------:|:------------------------------:|:----------------------------:|:----------------------------:|\n|     DROP      | B16<br>FP8<br>Int4GPTQ<br>Int4AWQ | 52.8<br>51.6<br>50.9<br>48.9 |  76.7<br>75.1<br>73.0<br>71.7  | 78.2<br>78.3<br>78.1<br>78.2 | 85.9<br>86.0<br>85.7<br>85.9 |\n| GPQA-Diamond  | B16<br>FP8<br>Int4GPTQ<br>Int4AWQ | 23.3<br>22.5<br>23.3<br>23.3 | 47.2<br>47.7<br>44.43<br>43.62 |  61.1<br>60.2<br>58.1<br>-   | 60.1<br>60.1<br>60.0<br>60.1 |\n| OlympiadBench | B16<br>FP8<br>Int4GPTQ<br>Int4AWQ | 29.6<br>29.6<br>26.8<br>26.3 |  63.4<br>62.5<br>60.9<br>61.7  | 73.1<br>73.1<br>71.1<br>71.2 | 76.5<br>76.6<br>76.2<br>76.4 |\n|   AIME 2024   | B16<br>FP8<br>Int4GPTQ<br>Int4AWQ |    17.2<br>17.2<br>-<br>-    |    56.7<br>55.17<br>-<br>-     |    78.3<br>76.6<br>-<br>-    | 81.1<br>80.9<br>81.0<br>80.9 |\n\n\n## Deployment   \n\nFor deployment, you can use frameworks such as **TensorRT-LLM**, **vLLM**, or **SGLang** to serve the model and create an OpenAI-compatible API endpoint.\n\nimage: https://hub.docker.com/r/hunyuaninfer/hunyuan-7B/tags \n\n\n### TensorRT-LLM\n\n#### Docker Image \n\nWe provide a pre-built Docker image based on the latest version of TensorRT-LLM.\n\nWe use tencent/Hunyuan-7B-Instruct for example\n- To get started:\n\nhttps://hub.docker.com/r/hunyuaninfer/hunyuan-large/tags \n\n```\ndocker pull hunyuaninfer/hunyuan-7B:hunyuan-moe-7B-trtllm\n```\n```\ndocker run --privileged --user root --name hunyuanLLM_infer --rm -it --ipc=host --ulimit memlock=-1 --ulimit stack=67108864 --gpus=all hunyuaninfer/hunyuan-7B:hunyuan-moe-7B-trtllm\n```\n\n- Prepare Configuration file:\n\n```\ncat >/path/to/extra-llm-api-config.yml <<EOF\nuse_cuda_graph: true\ncuda_graph_padding_enabled: true\ncuda_graph_batch_sizes:\n- 1\n- 2\n- 4\n- 8\n- 16\n- 32\nprint_iter_log: true\nEOF\n```\n\n\n- Start the API server:\n\n\n```\ntrtllm-serve \\\n  /path/to/HunYuan-moe-7B \\\n  --host localhost \\\n  --port 8000 \\\n  --backend pytorch \\\n  --max_batch_size 32 \\\n  --max_num_tokens 16384 \\\n  --tp_size 2 \\\n  --kv_cache_free_gpu_memory_fraction 0.6 \\\n  --trust_remote_code \\\n  --extra_llm_api_options /path/to/extra-llm-api-config.yml\n```\n\n\n### vllm\n\n#### Start\nPlease use vLLM version v0.10.0 or higher for inference.\n\nWe use tencent/Hunyuan-7B-Instruct for example\n- Download Model file: \n  - Huggingface:  will download automicly by vllm.\n  - ModelScope: `modelscope download --model Tencent-Hunyuan/Hunyuan-7B-Instruct`\n  \n- model download by huggingface:\n```shell\nexport MODEL_PATH=tencent/Hunyuan-7B-Instruct\n``` \n\n- model downloaded by modelscope:\n```shell\nexport MODEL_PATH=/root/.cache/modelscope/hub/models/Tencent-Hunyuan/Hunyuan-7B-Instruct/\n```\n\n- Start the API server:\n\n```shell\npython3 -m vllm.entrypoints.openai.api_server \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --trust-remote-code \\\n    --model ${MODEL_PATH} \\\n    --tensor-parallel-size 1 \\\n    --dtype bfloat16 \\\n    --quantization experts_int8 \\\n    --served-model-name hunyuan \\\n    2>&1 | tee log_server.txt\n``` \n- After running service script successfully, run the request script\n```shell\ncurl http://0.0.0.0:8000/v1/chat/completions -H 'Content-Type: application/json' -d '{\n\"model\": \"hunyuan\",\n\"messages\": [\n    {\n        \"role\": \"system\",\n        \"content\": [{\"type\": \"text\", \"text\": \"You are a helpful assistant.\"}]\n    },\n    {\n        \"role\": \"user\",\n        \"content\": [{\"type\": \"text\", \"text\": \"ËØ∑ÊåâÈù¢ÁßØÂ§ßÂ∞èÂØπÂõõÂ§ßÊ¥ãËøõË°åÊéíÂ∫èÔºåÂπ∂ÁªôÂá∫Èù¢ÁßØÊúÄÂ∞èÁöÑÊ¥ãÊòØÂì™‰∏Ä‰∏™ÔºüÁõ¥Êé•ËæìÂá∫ÁªìÊûú„ÄÇ\"}]\n    }\n],\n\"max_tokens\": 2048,\n\"temperature\":0.7,\n\"top_p\": 0.6,\n\"top_k\": 20,\n\"repetition_penalty\": 1.05,\n\"stop_token_ids\": [127960]\n}'\n```\n#### Quantitative model deployment\nThis section describes the process of deploying a post-quantization model using vLLM.\n\nDefault server in BF16.\n\n##### Int8 quantitative model deployment\nDeploying the Int8-weight-only version of the HunYuan-7B model only requires setting the environment variables\n\nNext we start the Int8 service. Run:\n```shell\npython3 -m vllm.entrypoints.openai.api_server \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --trust-remote-code \\\n    --model ${MODEL_PATH} \\\n    --tensor-parallel-size 1 \\\n    --dtype bfloat16 \\\n    --served-model-name hunyuan \\\n    --quantization experts_int8 \\\n    2>&1 | tee log_server.txt\n```\n\n\n##### Int4 quantitative model deployment\nDeploying the Int4-weight-only version of the HunYuan-7B model only requires setting the environment variables , using the GPTQ method\n```shell\nexport MODEL_PATH=PATH_TO_INT4_MODEL\n```\nNext we start the Int4 service. Run\n```shell\npython3 -m vllm.entrypoints.openai.api_server \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --trust-remote-code \\\n    --model ${MODEL_PATH} \\\n    --tensor-parallel-size 1 \\\n    --dtype bfloat16 \\\n    --served-model-name hunyuan \\\n    --quantization gptq_marlin \\\n    2>&1 | tee log_server.txt\n```\n\n##### FP8 quantitative model deployment\nDeploying the W8A8C8 version of the HunYuan-7B model only requires setting the environment variables\n\n\nNext we start the FP8 service. Run\n```shell\npython3 -m vllm.entrypoints.openai.api_server \\\n    --host 0.0.0.0 \\\n    --port 8000 \\\n    --trust-remote-code \\\n    --model ${MODEL_PATH} \\\n    --tensor-parallel-size 1 \\\n    --dtype bfloat16 \\\n    --served-model-name hunyuan \\\n    --kv-cache-dtype fp8 \\\n    2>&1 | tee log_server.txt\n```\n\n\n\n\n### SGLang\n\n#### Docker Image \n\nWe also provide a pre-built Docker image based on the latest version of SGLang.\n\nWe use tencent/Hunyuan-7B-Instruct for example\n\nTo get started:\n\n- Pull the Docker image\n\n```\ndocker pull lmsysorg/sglang:latest\n```\n\n- Start the API server:\n\n```\ndocker run --entrypoint=\"python3\" --gpus all \\\n    --shm-size 32g \\\n    -p 30000:30000 \\\n    --ulimit nproc=10000 \\\n    --privileged \\\n    --ipc=host \\\n     lmsysorg/sglang:latest \\\n    -m sglang.launch_server --model-path hunyuan/huanyuan_7B --tp 4 --trust-remote-code --host 0.0.0.0 --port 30000\n```\n\n\n## Contact Us\n\nIf you would like to leave a message for our R&D and product teams, Welcome to contact our open-source team . You can also contact us via email (hunyuan_opensource@tencent.com).",
    "config": "{\n  \"add_classification_head\": false,\n  \"architectures\": [\n    \"HunYuanDenseV1ForCausalLM\"\n  ],\n  \"attention_bias\": false,\n  \"attention_dropout\": 0.0,\n  \"attention_head_dim\": 128,\n  \"bos_token_id\": 1,\n  \"cla_share_factor\": 2,\n  \"class_num\": 0,\n  \"dense_list\": [\n    2048,\n    0\n  ],\n  \"eod_token_id\": 120026,\n  \"eos_token_id\": 120020,\n  \"head_dim\": 128,\n  \"hidden_act\": \"silu\",\n  \"hidden_size\": 2048,\n  \"im_end_id\": 5,\n  \"im_newline_id\": 11,\n  \"im_start_id\": 4,\n  \"initializer_range\": 0.02,\n  \"intermediate_size\": 6144,\n  \"mask_init_id\": 12,\n  \"max_position_embeddings\": 262144,\n  \"mlp_bias\": false,\n  \"model_type\": \"hunyuan_v1_dense\",\n  \"norm_type\": \"rms\",\n  \"num_attention_heads\": 16,\n  \"num_hidden_layers\": 32,\n  \"num_key_value_heads\": 4,\n  \"org_vocab_size\": 120818,\n  \"pad_id\": 120002,\n  \"pad_token_id\": 120002,\n  \"pool_type\": \"last\",\n  \"pretraining_tp\": 1,\n  \"rms_norm_eps\": 1e-05,\n  \"rope_scaling\": {\n    \"alpha\": 1000.0,\n    \"beta_fast\": 32,\n    \"beta_slow\": 1,\n    \"factor\": 1.0,\n    \"mscale\": 1.0,\n    \"mscale_all_dim\": 1.0,\n    \"type\": \"dynamic\"\n  },\n  \"rope_theta\": 10000.0,\n  \"sep_token_id\": 120007,\n  \"text_end_id\": 7,\n  \"text_start_id\": 6,\n  \"tie_word_embeddings\": true,\n  \"torch_dtype\": \"bfloat16\",\n  \"transformers_version\": \"4.41.2\",\n  \"use_cache\": true,\n  \"use_cla\": false,\n  \"use_qk_norm\": true,\n  \"use_rotary_pos_emb\": true,\n  \"vocab_size\": 120818\n}\n",
    "generation_config": "{\n  \"bos_token_id\": 120000,\n  \"eos_token_id\": 120020,\n  \"pad_token_id\": 120002,\n  \"do_sample\": true,\n  \"top_k\": 20,\n  \"top_p\": 0.8,\n  \"repetition_penalty\": 1.05,\n  \"temperature\": 0.7,\n  \"transformers_version\": \"4.52.4\"\n}\n",
    "license_file": "TENCENT HUNYUAN COMMUNITY LICENSE AGREEMENT\r\nTencent Hunyuan 1.8B Release Date: August 4, 2025\r\nTHIS LICENSE AGREEMENT DOES NOT APPLY IN THE EUROPEAN UNION, UNITED KINGDOM AND SOUTH KOREA AND IS EXPRESSLY LIMITED TO THE TERRITORY, AS DEFINED BELOW.\r\nBy clicking to agree or by using, reproducing, modifying, distributing, performing or displaying any portion or element of the Tencent Hunyuan Works, including via any Hosted Service, You will be deemed to have recognized and accepted the content of this Agreement, which is effective immediately.\r\n1.\tDEFINITIONS.\r\na.\t‚ÄúAcceptable Use Policy‚Äù shall mean the policy made available by Tencent as set forth in the Exhibit A.\r\nb.\t‚ÄúAgreement‚Äù shall mean the terms and conditions for use, reproduction, distribution, modification, performance and displaying of Tencent Hunyuan Works or any portion or element thereof set forth herein.\r\nc.\t‚ÄúDocumentation‚Äù shall mean the specifications, manuals and documentation for Tencent Hunyuan made publicly available by Tencent.\r\nd.\t‚ÄúHosted Service‚Äù shall mean a hosted service offered via an application programming interface (API), web access, or any other electronic or remote means.\r\ne.\t‚ÄúLicensee,‚Äù ‚ÄúYou‚Äù or ‚ÄúYour‚Äù shall mean a natural person or legal entity exercising the rights granted by this Agreement and/or using the Tencent Hunyuan Works for any purpose and in any field of use.\r\nf.\t‚ÄúMaterials‚Äù shall mean, collectively, Tencent‚Äôs proprietary Tencent Hunyuan and Documentation (and any portion thereof) as made available by Tencent under this Agreement.\r\ng.\t‚ÄúModel Derivatives‚Äù shall mean all: (i) modifications to Tencent Hunyuan or any Model Derivative of Tencent Hunyuan; (ii) works based on Tencent Hunyuan or any Model Derivative of Tencent Hunyuan; or (iii) any other machine learning model which is created by transfer of patterns of the weights, parameters, operations, or Output of Tencent Hunyuan or any Model Derivative of Tencent Hunyuan, to that model in order to cause that model to perform similarly to Tencent Hunyuan or a Model Derivative of Tencent Hunyuan, including distillation methods, methods that use intermediate data representations, or methods based on the generation of synthetic data Outputs by Tencent Hunyuan or a Model Derivative of Tencent Hunyuan for training that model. For clarity, Outputs by themselves are not deemed Model Derivatives.\r\nh.\t‚ÄúOutput‚Äù shall mean the information and/or content output of Tencent Hunyuan or a Model Derivative that results from operating or otherwise using Tencent Hunyuan or a Model Derivative, including via a Hosted Service.\r\ni.\t‚ÄúTencent,‚Äù ‚ÄúWe‚Äù or ‚ÄúUs‚Äù shall mean the applicable entity or entities in the Tencent corporate family that own(s) intellectual property or other rights embodied in or utilized by the Materials.\r\nj.\t‚ÄúTencent Hunyuan‚Äù shall mean the large language models, text/image/video/audio/3D generation models, and multimodal large language models and their software and algorithms, including trained model weights, parameters (including optimizer states), machine-learning model code, inference-enabling code, training-enabling code, fine-tuning enabling code and other elements of the foregoing made publicly available by Us, including, without limitation to, Tencent Hunyuan 1.8B released at [https://github.com/Tencent-Hunyuan/Hunyuan-1.8B].\r\nk.\t‚ÄúTencent Hunyuan Works‚Äù shall mean: (i) the Materials; (ii) Model Derivatives; and (iii) all derivative works thereof.\r\nl.\t‚ÄúTerritory‚Äù shall mean the worldwide territory, excluding the territory of the European Union, United Kingdom and South Korea. \r\nm.\t‚ÄúThird Party‚Äù or ‚ÄúThird Parties‚Äù shall mean individuals or legal entities that are not under common control with Us or You.\r\nn.\t‚Äúincluding‚Äù shall mean including but not limited to.\r\n2.\tGRANT OF RIGHTS.\r\nWe grant You, for the Territory only, a non-exclusive, non-transferable and royalty-free limited license under Tencent‚Äôs intellectual property or other rights owned by Us embodied in or utilized by the Materials to use, reproduce, distribute, create derivative works of (including Model Derivatives), and make modifications to the Materials, only in accordance with the terms of this Agreement and the Acceptable Use Policy, and You must not violate (or encourage or permit anyone else to violate) any term of this Agreement or the Acceptable Use Policy.\r\n3.\tDISTRIBUTION.\r\nYou may, subject to Your compliance with this Agreement, distribute or make available to Third Parties the Tencent Hunyuan Works, exclusively in the Territory, provided that You meet all of the following conditions:\r\na.\tYou must provide all such Third Party recipients of the Tencent Hunyuan Works or products or services using them a copy of this Agreement;\r\nb.\tYou must cause any modified files to carry prominent notices stating that You changed the files;\r\nc.\tYou are encouraged to: (i) publish at least one technology introduction blogpost or one public statement expressing Your experience of using the Tencent Hunyuan Works; and (ii) mark the products or services developed by using the Tencent Hunyuan Works to indicate that the product/service is ‚ÄúPowered by Tencent Hunyuan‚Äù; and\r\nd.\tAll distributions to Third Parties (other than through a Hosted Service) must be accompanied by a ‚ÄúNotice‚Äù text file that contains the following notice: ‚ÄúTencent Hunyuan is licensed under the Tencent Hunyuan Community License Agreement, Copyright ¬© 2025 Tencent. All Rights Reserved. The trademark rights of ‚ÄúTencent Hunyuan‚Äù are owned by Tencent or its affiliate.‚Äù\r\nYou may add Your own copyright statement to Your modifications and, except as set forth in this Section and in Section 5, may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Model Derivatives as a whole, provided Your use, reproduction, modification, distribution, performance and display of the work otherwise complies with the terms and conditions of this Agreement (including as regards the Territory). If You receive Tencent Hunyuan Works from a Licensee as part of an integrated end user product, then this Section 3 of this Agreement will not apply to You.\r\n4.\tADDITIONAL COMMERCIAL TERMS.\r\nIf, on the Tencent Hunyuan version release date, the monthly active users of all products or services made available by or for Licensee is greater than 100 million monthly active users in the preceding calendar month, You must request a license from Tencent, which Tencent may grant to You in its sole discretion, and You are not authorized to exercise any of the rights under this Agreement unless or until Tencent otherwise expressly grants You such rights.\r\n5.\tRULES OF USE.\r\na.\tYour use of the Tencent Hunyuan Works must comply with applicable laws and regulations (including trade compliance laws and regulations) and adhere to the Acceptable Use Policy for the Tencent Hunyuan Works, which is hereby incorporated by reference into this Agreement. You must include the use restrictions referenced in these Sections 5(a) and 5(b) as an enforceable provision in any agreement (e.g., license agreement, terms of use, etc.) governing the use and/or distribution of Tencent Hunyuan Works and You must provide notice to subsequent users to whom You distribute that Tencent Hunyuan Works are subject to the use restrictions in these Sections 5(a) and 5(b).\r\nb.\tYou must not use the Tencent Hunyuan Works or any Output or results of the Tencent Hunyuan Works to improve any other AI model (other than Tencent Hunyuan or Model Derivatives thereof).\r\nc.\tYou must not use, reproduce, modify, distribute, or display the Tencent Hunyuan Works, Output or results of the Tencent Hunyuan Works outside the Territory. Any such use outside the Territory is unlicensed and unauthorized under this Agreement.\r\n6.\tINTELLECTUAL PROPERTY.\r\na.\tSubject to Tencent‚Äôs ownership of Tencent Hunyuan Works made by or for Tencent and intellectual property rights therein, conditioned upon Your compliance with the terms and conditions of this Agreement, as between You and Tencent, You will be the owner of any derivative works and modifications of the Materials and any Model Derivatives that are made by or for You.\r\nb.\tNo trademark licenses are granted under this Agreement, and in connection with the Tencent Hunyuan Works, Licensee may not use any name or mark owned by or associated with Tencent or any of its affiliates, except as required for reasonable and customary use in describing and distributing the Tencent Hunyuan Works. Tencent hereby grants You a license to use ‚ÄúTencent Hunyuan‚Äù (the ‚ÄúMark‚Äù) in the Territory solely as required to comply with the provisions of Section 3(c), provided that You comply with any applicable laws related to trademark protection. All goodwill arising out of Your use of the Mark will inure to the benefit of Tencent.\r\nc.\tIf You commence a lawsuit or other proceedings (including a cross-claim or counterclaim in a lawsuit) against Us or any person or entity alleging that the Materials or any Output, or any portion of any of the foregoing, infringe any intellectual property or other right owned or licensable by You, then all licenses granted to You under this Agreement shall terminate as of the date such lawsuit or other proceeding is filed. You will defend, indemnify and hold harmless Us from and against any claim by any Third Party arising out of or related to Your or the Third Party‚Äôs use or distribution of the Tencent Hunyuan Works.\r\nd.\tTencent claims no rights in Outputs You generate. You and Your users are solely responsible for Outputs and their subsequent uses.\r\n7.\tDISCLAIMERS OF WARRANTY AND LIMITATIONS OF LIABILITY.\r\na.\tWe are not obligated to support, update, provide training for, or develop any further version of the Tencent Hunyuan Works or to grant any license thereto.\r\nb.\tUNLESS AND ONLY TO THE EXTENT REQUIRED BY APPLICABLE LAW, THE TENCENT HUNYUAN WORKS AND ANY OUTPUT AND RESULTS THEREFROM ARE PROVIDED ‚ÄúAS IS‚Äù WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES OF ANY KIND INCLUDING ANY WARRANTIES OF TITLE, MERCHANTABILITY, NONINFRINGEMENT, COURSE OF DEALING, USAGE OF TRADE, OR FITNESS FOR A PARTICULAR PURPOSE. YOU ARE SOLELY RESPONSIBLE FOR DETERMINING THE APPROPRIATENESS OF USING, REPRODUCING, MODIFYING, PERFORMING, DISPLAYING OR DISTRIBUTING ANY OF THE TENCENT HUNYUAN WORKS OR OUTPUTS AND ASSUME ANY AND ALL RISKS ASSOCIATED WITH YOUR OR A THIRD PARTY‚ÄôS USE OR DISTRIBUTION OF ANY OF THE TENCENT HUNYUAN WORKS OR OUTPUTS AND YOUR EXERCISE OF RIGHTS AND PERMISSIONS UNDER THIS AGREEMENT.\r\nc.\tTO THE FULLEST EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT SHALL TENCENT OR ITS AFFILIATES BE LIABLE UNDER ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, TORT, NEGLIGENCE, PRODUCTS LIABILITY, OR OTHERWISE, FOR ANY DAMAGES, INCLUDING ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, EXEMPLARY, CONSEQUENTIAL OR PUNITIVE DAMAGES, OR LOST PROFITS OF ANY KIND ARISING FROM THIS AGREEMENT OR RELATED TO ANY OF THE TENCENT HUNYUAN WORKS OR OUTPUTS, EVEN IF TENCENT OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF ANY OF THE FOREGOING.\r\n8.\tSURVIVAL AND TERMINATION.\r\na.\tThe term of this Agreement shall commence upon Your acceptance of this Agreement or access to the Materials and will continue in full force and effect until terminated in accordance with the terms and conditions herein.\r\nb.\tWe may terminate this Agreement if You breach any of the terms or conditions of this Agreement. Upon termination of this Agreement, You must promptly delete and cease use of the Tencent Hunyuan Works. Sections 6(a), 6(c), 7 and 9 shall survive the termination of this Agreement.\r\n9.\tGOVERNING LAW AND JURISDICTION.\r\na.\tThis Agreement and any dispute arising out of or relating to it will be governed by the laws of the Hong Kong Special Administrative Region of the People‚Äôs Republic of China, without regard to conflict of law principles, and the UN Convention on Contracts for the International Sale of Goods does not apply to this Agreement.\r\nb.\tExclusive jurisdiction and venue for any dispute arising out of or relating to this Agreement will be a court of competent jurisdiction in the Hong Kong Special Administrative Region of the People‚Äôs Republic of China, and Tencent and Licensee consent to the exclusive jurisdiction of such court with respect to any such dispute.\r\n‚ÄÉ\r\nEXHIBIT A\r\nACCEPTABLE USE POLICY\r\n\r\nTencent reserves the right to update this Acceptable Use Policy from time to time.\r\nLast modified: November 5, 2024\r\n\r\nTencent endeavors to promote safe and fair use of its tools and features, including Tencent Hunyuan. You agree not to use Tencent Hunyuan or Model Derivatives:\r\n1.\tOutside the Territory;\r\n2.\tIn any way that violates any applicable national, federal, state, local, international or any other law or regulation;\r\n3.\tTo harm Yourself or others;\r\n4.\tTo repurpose or distribute output from Tencent Hunyuan or any Model Derivatives to harm Yourself or others; \r\n5.\tTo override or circumvent the safety guardrails and safeguards We have put in place;\r\n6.\tFor the purpose of exploiting, harming or attempting to exploit or harm minors in any way;\r\n7.\tTo generate or disseminate verifiably false information and/or content with the purpose of harming others or influencing elections;\r\n8.\tTo generate or facilitate false online engagement, including fake reviews and other means of fake online engagement;\r\n9.\tTo intentionally defame, disparage or otherwise harass others;\r\n10.\tTo generate and/or disseminate malware (including ransomware) or any other content to be used for the purpose of harming electronic systems;\r\n11.\tTo generate or disseminate personal identifiable information with the purpose of harming others;\r\n12.\tTo generate or disseminate information (including images, code, posts, articles), and place the information in any public context (including ‚Äìthrough the use of bot generated tweets), without expressly and conspicuously identifying that the information and/or content is machine generated;\r\n13.\tTo impersonate another individual without consent, authorization, or legal right;\r\n14.\tTo make high-stakes automated decisions in domains that affect an individual‚Äôs safety, rights or wellbeing (e.g., law enforcement, migration, medicine/health, management of critical infrastructure, safety components of products, essential services, credit, employment, housing, education, social scoring, or insurance);\r\n15.\tIn a manner that violates or disrespects the social ethics and moral standards of other countries or regions;\r\n16.\tTo perform, facilitate, threaten, incite, plan, promote or encourage violent extremism or terrorism;\r\n17.\tFor any use intended to discriminate against or harm individuals or groups based on protected characteristics or categories, online or offline social behavior or known or predicted personal or personality characteristics;\r\n18.\tTo intentionally exploit any of the vulnerabilities of a specific group of persons based on their age, social, physical or mental characteristics, in order to materially distort the behavior of a person pertaining to that group in a manner that causes or is likely to cause that person or another person physical or psychological harm;\r\n19.\tFor military purposes;\r\n20.\tTo engage in the unauthorized or unlicensed practice of any profession including, but not limited to, financial, legal, medical/health, or other professional practices.",
    "py_files": {}
}