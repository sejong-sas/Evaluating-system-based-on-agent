{
    "model_id": "llm-jp/llm-jp-13b-instruct-full-jaster-dolly-oasst-v1.0",
    "files": [
        ".gitattributes",
        "README.md",
        "config.json",
        "generation_config.json",
        "pytorch_model-00001-of-00003.bin",
        "pytorch_model-00002-of-00003.bin",
        "pytorch_model-00003-of-00003.bin",
        "pytorch_model.bin.index.json",
        "special_tokens_map.json",
        "tokenizer.json",
        "tokenizer_config.json"
    ],
    "readme": "---\nlicense: apache-2.0\nlanguage:\n  - en\n  - ja\nprogramming_language:\n  - C\n  - C++\n  - C#\n  - Go\n  - Java\n  - JavaScript\n  - Lua\n  - PHP\n  - Python\n  - Ruby\n  - Rust\n  - Scala\n  - TypeScript\nlibrary_name: transformers\npipeline_tag: text-generation\ninference: false\n---\n# llm-jp-13b-instruct-full-jaster-dolly-oasst-v1.0\n\nThis repository provides large language models developed by [LLM-jp](https://llm-jp.nii.ac.jp/), a collaborative project launched in Japan.\n\n| Model Variant | \n| :--- |\n|**Instruction models**|\n| [llm-jp-13b-instruct-full-jaster-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-instruct-full-jaster-v1.0) |\n| [llm-jp-13b-instruct-full-jaster-dolly-oasst-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-instruct-full-jaster-dolly-oasst-v1.0) |\n| [llm-jp-13b-instruct-full-dolly-oasst-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-instruct-full-dolly-oasst-v1.0) |\n| [llm-jp-13b-instruct-lora-jaster-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-instruct-lora-jaster-v1.0) | \n| [llm-jp-13b-instruct-lora-jaster-dolly-oasst-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-instruct-lora-jaster-dolly-oasst-v1.0) | \n| [llm-jp-13b-instruct-lora-dolly-oasst-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-instruct-lora-dolly-oasst-v1.0) | \n\n\n|  | \n| :--- |\n|**Pre-trained models**|\n| [llm-jp-13b-v1.0](https://huggingface.co/llm-jp/llm-jp-13b-v1.0) | \n| [llm-jp-1.3b-v1.0](https://huggingface.co/llm-jp/llm-jp-1.3b-v1.0) | \nCheckpoints format: Hugging Face Transformers (Megatron-DeepSpeed format models are available [here](https://huggingface.co/llm-jp/llm-jp-13b-v1.0-mdsfmt))\n\n\n## Required Libraries and Their Versions\n\n- torch>=2.0.0\n- transformers>=4.34.0\n- tokenizers>=0.14.0\n- accelerate==0.23.0\n\n## Usage\n\n```python\nimport torch\nfrom transformers import AutoTokenizer, AutoModelForCausalLM\ntokenizer = AutoTokenizer.from_pretrained(\"llm-jp/llm-jp-13b-instruct-full-jaster-dolly-oasst-v1.0\")\nmodel = AutoModelForCausalLM.from_pretrained(\"llm-jp/llm-jp-13b-instruct-full-jaster-dolly-oasst-v1.0\", device_map=\"auto\", torch_dtype=torch.float16)\ntext = \"自然言語処理とは何か\"\ntext = text + \"### 回答：\"\ntokenized_input = tokenizer.encode(text, add_special_tokens=False, return_tensors=\"pt\").to(model.device)\nwith torch.no_grad():\n    output = model.generate(\n        tokenized_input,\n        max_new_tokens=100,\n        do_sample=True,\n        top_p=0.95,\n        temperature=0.7,\n    )[0]\nprint(tokenizer.decode(output))\n```\n\n\n## Model Details\n\n- **Model type:** Transformer-based Language Model\n- **Total seen tokens:** 300B\n\n|Model|Params|Layers|Hidden size|Heads|Context length|\n|:---:|:---:|:---:|:---:|:---:|:---:|\n|13b model|13b|40|5120|40|2048|\n|1.3b model|1.3b|24|2048|16|2048|\n\n\n## Training\n\n- **Pre-training:**\n  - **Hardware:** 96 A100 40GB GPUs ([mdx cluster](https://mdx.jp/en/))\n  - **Software:** Megatron-DeepSpeed\n\n- **Instruction tuning:**\n  - **Hardware:** 8 A100 40GB GPUs ([mdx cluster](https://mdx.jp/en/))\n  - **Software:** [TRL](https://github.com/huggingface/trl), [PEFT](https://github.com/huggingface/peft), and [DeepSpeed](https://github.com/microsoft/DeepSpeed)\n\n## Tokenizer\nThe tokenizer of this model is based on [huggingface/tokenizers](https://github.com/huggingface/tokenizers) Unigram byte-fallback model.\nThe vocabulary entries were converted from [`llm-jp-tokenizer v2.1 (50k)`](https://github.com/llm-jp/llm-jp-tokenizer/releases/tag/v2.1).\nPlease refer to [README.md](https://github.com/llm-jp/llm-jp-tokenizer) of `llm-ja-tokenizer` for details on the vocabulary construction procedure.\n- **Model:** Hugging Face Fast Tokenizer using Unigram byte-fallback model which requires `tokenizers>=0.14.0`\n- **Training algorithm:** SentencePiece Unigram byte-fallback\n- **Training data:** A subset of the datasets for model pre-training\n- **Vocabulary size:** 50,570 (mixed vocabulary of Japanese, English, and source code)\n\n\n## Datasets\n\n### Pre-training\n\nThe models have been pre-trained using a blend of the following datasets.\n\n| Language | Dataset | Tokens|\n|:---:|:---:|:---:|\n|Japanese|[Wikipedia](https://huggingface.co/datasets/wikipedia)|1.5B\n||[mC4](https://huggingface.co/datasets/mc4)|136B\n|English|[Wikipedia](https://huggingface.co/datasets/wikipedia)|5B\n||[The Pile](https://huggingface.co/datasets/EleutherAI/pile)|135B\n|Codes|[The Stack](https://huggingface.co/datasets/bigcode/the-stack)|10B\n\nThe pre-training was continuously conducted using a total of 10 folds of non-overlapping data, each consisting of approximately 27-28B tokens.\nWe finalized the pre-training with additional (potentially) high-quality 27B tokens data obtained from the identical source datasets listed above used for the 10-fold data.\n\n### Instruction tuning\n\nThe models have been fine-tuned on the following datasets.\n \n| Language | Dataset | description |\n|:---|:---:|:---:|\n|Japanese|[jaster](https://github.com/llm-jp/llm-jp-eval)| An automatically transformed data from the existing Japanese NLP datasets |\n||[databricks-dolly-15k](https://huggingface.co/datasets/databricks/databricks-dolly-15k)| A translated one by DeepL in LLM-jp |\n||[OpenAssistant Conversations Dataset](https://huggingface.co/datasets/OpenAssistant/oasst1)| A translated one by DeepL in LLM-jp |\n\n\n## Evaluation\nYou can view the evaluation results of several LLMs on this [leaderboard](http://wandb.me/llm-jp-leaderboard). We used [llm-jp-eval](https://github.com/llm-jp/llm-jp-eval) for the evaluation.\n\n## Risks and Limitations\n\nThe models released here are still in the early stages of our research and development and have not been tuned to ensure outputs align with human intent and safety considerations.\n\n\n## Send Questions to\n\nllm-jp(at)nii.ac.jp\n\n\n## License\n\n[Apache License, Version 2.0](https://www.apache.org/licenses/LICENSE-2.0)\n\n\n## Model Card Authors\n*The names are listed in alphabetical order.*\n\nHirokazu Kiyomaru, Hiroshi Matsuda, Jun Suzuki, Namgi Han, Saku Sugawara, Shota Sasaki, Shuhei Kurita, Taishi Nakamura, Takumi Okamoto.",
    "config": "{\n  \"activation_function\": \"gelu\",\n  \"architectures\": [\n    \"GPT2LMHeadModel\"\n  ],\n  \"attn_pdrop\": 0.1,\n  \"bos_token_id\": 7,\n  \"embd_pdrop\": 0.1,\n  \"eos_token_id\": 7,\n  \"gradient_checkpointing\": false,\n  \"initializer_range\": 0.02,\n  \"layer_norm_epsilon\": 1e-05,\n  \"model_type\": \"gpt2\",\n  \"n_ctx\": 1024,\n  \"n_embd\": 5120,\n  \"n_head\": 40,\n  \"n_inner\": 20480,\n  \"n_layer\": 40,\n  \"n_positions\": 2048,\n  \"reorder_and_upcast_attn\": false,\n  \"resid_pdrop\": 0.1,\n  \"scale_attn_by_inverse_layer_idx\": false,\n  \"scale_attn_weights\": true,\n  \"summary_activation\": null,\n  \"summary_first_dropout\": 0.1,\n  \"summary_proj_to_labels\": true,\n  \"summary_type\": \"cls_index\",\n  \"summary_use_proj\": true,\n  \"torch_dtype\": \"float16\",\n  \"transformers_version\": \"4.34.0\",\n  \"use_cache\": true,\n  \"vocab_size\": 50688\n}\n",
    "generation_config": "{\n  \"_from_model_config\": true,\n  \"bos_token_id\": 7,\n  \"eos_token_id\": 7,\n  \"transformers_version\": \"4.34.0\"\n}\n",
    "license_file": "",
    "py_files": {}
}